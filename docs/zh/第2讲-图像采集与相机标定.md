---
lang: zh
source_pdf：2025_第2章 - 图像采集和相机校准。pdf
出口商：pymupdf_markdown
---



<!-- Page 1 / 75 -->

Ng Hsiao Piau博士
ng_h_p@nus.edu.sg


<!-- Page 2 / 75 -->

讲座2 
图像采集和摄像机校准
2


<!-- Page 3 / 75 -->

主题 
•
定义
•
照明
•
相机
•
相机校准
3


<!-- Page 4 / 75 -->

关键要点 
•
图像获取（照明 +相机 +框架抓框）
•
照明类型：前，后，结构化
•
CCD/CMOS传感器使用光伏效应
•
光学：光圈，焦距，放大倍率
•
校准：通过矩阵变换的3D到2D映射
4


<!-- Page 5 / 75 -->

1。定义
•
工业的 
制造单元格 
与视觉细胞
•
任务：愿景 
系统观察到 
对象，确定是否 
它在内部 
规格， 
生成命令 
相应的信号。
•
图像获取 
系统：灯， 
相机和框架 
抓手。
•
加工 
设备
•
输出设备
•
控制动作 
5
计算机集成制造（CIM）
用于统计 
分析和 
库存控制


<!-- Page 6 / 75 -->

图像获取
•
转换物理视觉图像的过程 
对象及其内在特征 
数字化数据可以由处理单元使用 
系统。
•灯（照明）
• 相机 
•框架抓手
6
四个阶段：
1。照明
2。图像形成或聚焦
3。图像检测或传感
4。格式化摄像机输出信号


<!-- Page 7 / 75 -->

框架抓手
•
一种捕获个人数字静止的电子设备 
模拟视频信号或数字视频的帧 
溪流。
•
在典型的机器/计算机视觉系统中，框架 
Grabber还显示，存储或传输被捕获的 
视频框架以原始数字形式或压缩数字形式。  
7
格式化摄像机输出信号


<!-- Page 8 / 75 -->

2。照明
•
指定照明科学。
•
照明的来源
•
照明系统的设计
•
旨在为相机创造一个有效的环境 
参见机器视觉的上下文。
8


<!-- Page 9 / 75 -->

照明
•
关键参数，通常是限制因素
•
可能需要30％的申请工作
•
为每个申请工作定制
•
可以产生超出人类视力的影响（红外， 
2D图像中的紫外线，X射线，3D信息）
•
荧光灯的性能各不相同
•
定期监视
9
在最初的100小时内，荧光灯输出降低了15％ 
然后以较慢的速度继续下降。荧光灯 
在40oC时最亮，对施加的电压敏感。


<!-- Page 10 / 75 -->

主要照明
•
前照明：同一侧的光源和相机 
相对于对象
•
有助于获得表面纹理，特征和尺寸
•
背光：光源和相机之间的物体
•
结构灯：用网格或 
常规条纹
10


<!-- Page 11 / 75 -->

前照明
11
前照明采用从物体反射的光。照明
源和相机都位于对象的同一侧。这是
有助于获得特征的表面纹理以及尺寸。


<!-- Page 12 / 75 -->

后照明
•
创建一个轮廓 
目的
•
通常用来定位零件 
在传送器上移动 
腰带
•
探测外国的理想 
物质和断裂 
透明对象
12
背光是 
对象位于 
光源和相机。 
磨砂玻璃


<!-- Page 13 / 75 -->

后照明
15 15 15
15 15 15
15 15
15 15 15
15 15 15
15 15
15 15 15
15 15 15
15 15
15
15
15
15
15
15
15
15
15
15
15 15
10 10
0
0
0
0
0
0
0
0
0
0
0
0
1
1
1
1
1
1
1
1
1
1
1
1
1
1
后光对象
图像数据
13
产生高对比度图像， 
最小化处理任务和 
降低系统的灵敏度 
照明源变化。
不能用来获取信息 
在表面特征或特征上 
在剪影中可见 
盲孔中的螺栓和位于 
彼此顶。


<!-- Page 14 / 75 -->

结构光
•
3D信息 
2D图像
•
照明角度和 
光结构 
（常规条纹， 
网格）依靠 
应用程序
14
结构化的光是 
用特殊的物体照明 
图案或网格。交集 
物体和预计的照明 
取决于独特的模式 
物体的形状和尺寸 
3-D功能转换为2-D 
图像。垂直和水平距离， 
以及表面的形状 
可以测量功能。


<!-- Page 15 / 75 -->

15
使用结构化的轻扫描自动检查： 
http://www.youtube.com/watch?v=lpxqbtrpbeg


<!-- Page 16 / 75 -->

3。相机
•
相机是用于捕获静止图像的设备 
（照片）或作为移动图像的序列 
（电影或视频）。
•
通常由
•镜头系统，包括一个开口（孔） 
结束光输入。
•图像捕获以捕获另一端的灯。
16
图像形成和聚焦
物体的图像集中在 
带有镜头的传感元素。这 
传感器将视觉图像转换为 
电信号。
图像检测 
图像检测是由图像完成的 
相机的传感器。的基本概念 
图像传感器是单独的电信号 
为传感器中的每个像素或区域生产 
取决于轻能下降的量 
在每个像素区域的设备上。


<!-- Page 17 / 75 -->

相机 
•
大多数相机使用CCD或CMOS光敏性 
捕获图像的元素，都使用光伏 
原则。他们捕获了单色的亮度 
图像。
•
电荷耦合设备（CCD）是用于记录的传感器 
图像，由包含一个集成电路组成 
链接或耦合的电容器阵列。 
•
互补的金属氧化物半导体（CMOS）是 
主要的集成电路类别。
17


<!-- Page 18 / 75 -->

相机 
•
光伏原理：光子的能量 
光源导致电子离开其价带 
并更改传导带。数量 
传入光子会影响宏观电导率。这 
激发电子是电压的来源 
成为电流。电流直接 
与传入能量（光子）的量成正比。 
•
相机配备了必要的电子设备 
提供数字化图像。
•
彩色摄像机类似于单色摄像机， 
包含颜色过滤器。
18


<!-- Page 19 / 75 -->

CCD相机
•
CCD摄像机基于电荷夫妇设备 
（CCD）技术。
•
CCD是由一个系列组成的模拟换档寄存器 
距离紧密间隔的电容器。
•它可以使模拟信号（电荷）为 
通过连续的阶段运输（电容器） 
由时钟信号控制。 
•它用于序列化数组中的平行模拟信号 
光电传感器的。
•用于捕获图像，有一个光活性区域 
由硅和传输区制成 
CCD。
19


<!-- Page 20 / 75 -->

CCD
•
图像捕获操作的基础知识
•图像通过 
光活性区域。每个电容器都会累积 
电荷与光强度成正比 
地点。
•当电容器阵列完全暴露于 
图像（曝光时间），控制电路是原因 
每个电容器将其内容转移到邻居。
•阵列中的最后一个电容器将其充电移至 
充电放大器将电荷转换为 
电压。
•通过重复此过程，控制电路转换 
阵列的整个半导体内容 
采样，数字化和 
以某种形式的内存存储。
20


<!-- Page 21 / 75 -->

CCD
•
典型的传感器尺寸：8.8毫米x 6.6毫米，近200,000 
像素
相机内的CCD传感器
。 。 。
。 。 。
21


<!-- Page 22 / 75 -->

CCD
•
两种读取费用的方法 
由传感器的电容器积累
•交通转移
•框架转移
交通转移：
1。费用转移到 
屏蔽区域。
2。 
列移动 
下一个单元格。
3。一排充电是 
然后移出。 
。 。 。
。 。 。
1
2
输出信号 
（到放大器）
3
22


<!-- Page 23 / 75 -->

CCD
框架转移：
1。所有费用都在移动 
下到屏蔽 
区域。
2。每行充电是 
然后移出。 
2
。 。 。
。 。 。
1
输出信号 
（到放大器）
。 。 。
23


<!-- Page 24 / 75 -->

•
其他常见的CCD传感器：512x256 
感受器
•
通过捕获光子来检测光的设备。
•
光感受器=光电探测器= photosensor
•
可能的受体定制布置，例如 
与人类视网膜类似
•
低几何变形，价格取决于 
感光体
•
像素转移率每秒高达20兆像素
•
电压信号数字化（处理）或转换为 
信号（直接监视）
•
NTSC彩色电视标准和PAL（阶段 
交替行）是最广泛使用的颜色编码 
系统。
24
格式化摄像机输出信号
CCD


<!-- Page 25 / 75 -->

单色相机
充电放大器 - 将电荷转换为电压 
自动增益控制 - 改变 
摄像机根据光线的量 
场景。 G校正执行非线性 
强度量表的转换。
25


<!-- Page 26 / 75 -->

单色相机
26
图像的伽马校正或编码是 
弥补人类的特性 
愿景 - 确保不要太多的位 
分配给人类不能的亮点 
看到阴影值太少了 
人对。


<!-- Page 27 / 75 -->

单色相机
27


<!-- Page 28 / 75 -->

彩色相机
•
捕获彩色图像的三种策略：
•连续记录三个不同的图像 
在单色之前使用颜色过滤器 
相机。
•颜色顺序捕获 - 用颜色过滤器切换颜色 
车轮。
•在单个传感器上使用颜色过滤器阵列。
•积分颜色过滤器阵列（CFA） - 适当的过滤器 
R，G和B的特性放在芯片上。
•传入的光被分为多个颜色通道 
使用类似棱镜的设备。
•三芯颜色 - 使用光学元件将场景分为三个 
分开图像平面，并在三个CCD芯片上
28


<!-- Page 29 / 75 -->

颜色顺序捕获 
 - 用颜色滤轮切换颜色
29
https://www.olympus-lifescience.com/es/microscope-
资源/底漆/数字成像/概念/threepass/
奥林巴斯生活科学
光学中的数字成像 
显微镜 - 数字概念 
成像 - 顺序颜色成像 
系统|奥林巴斯LS
缺点：系统的机械复杂性


<!-- Page 30 / 75 -->

积分颜色过滤器阵列（CFA） 
 -  R，G和B的适当特征的过滤器 
放在芯片上
30
https://www.whatdigitalcamera.com/technology_
Guides/Bayer-Filter-work-60461
拜耳过滤器：它是什么，它如何工作？
用于几乎所有颜色的数码相机
人眼最敏感的特性 
绿色，少至红色，至少是蓝色的 
单芯片最常见的颜色过滤器 
相机。
积分颜色过滤器阵列


<!-- Page 31 / 75 -->

三芯颜色 
 - 使用光学器件将场景分为三个单独的图像 
飞机，然后进入三个CCD芯片
31
缺点：使用较小的传感器，从而较低的图像分辨率。
https://www.vision-doctor.com/en/area-scan-cameras/three-chip-colour-cameras.html


<!-- Page 32 / 75 -->

CMOS相机
•
CMOS摄像机系统使用CMOS图像传感器或 
CMOS活动像素传感器（APS）。 CMOS 
（互补的金属 - 氧化物 - 气门导体）是一类 
集成电路。
•
APS是由集成的图像传感器 
包含一个像素传感器阵列的电路，每个像素 
包含光电探测器和活动放大器。
•
最常用于手机摄像机和网络 
相机。
32


<!-- Page 33 / 75 -->

智能相机
•
智能相机是一个集成的机器视觉系统 
除了图像捕获电路外，它还包括一个 
处理器，可以从图像中提取信息 
无需外部处理单元， 
用于使结果可用的接口设备 
设备。
•
这是一个通常带有CMOS图像的嵌入式系统 
传感器。
33


<!-- Page 34 / 75 -->

孔径和焦点
•
光圈是一个开口 
光是 
承认。它控制 
光量 
通过 
镜头。
•
焦点是一个点 
直接在上面 
平行于轴的光 
集中精力。
•
准灯是光线 
射线几乎是 
平行线。
34
焦距是 
镜头的光学中心和 
平行射线的焦点 
光收敛或似乎收敛 
穿过镜头后。


<!-- Page 35 / 75 -->

焦距
•
f是一种衡量强度的衡量标准 
光学系统收敛或 
发光。 
•
焦距较短的系统 
具有比一个更大的光学功率 
焦距较长。
•
从焦距F，距离 
做物体锋利的做事 
被计算。
•
示例：M = 0.05，F = 35.7mm， 
做= 750毫米
•
对于M = 0.05的镜头系统，距离 
物体和镜头（相机）之间是750 
MM，我们需要焦点长度F = 35.7。
）
1
1（
m
f
做


35
p =光电功率（或 
屈光力）= 1/f


<!-- Page 36 / 75 -->

放大
•
M =放大倍数
•嗨：图像大小
•HO：对象大小
•
m << 1：摩克罗德
•
典型的工业 
自动化系统
•
M >> 1：显微镜 
光圈
你好
何
对象平面
图像平面
焦点
焦点 
观点
做
di
o
我
o
我
d
d
h
h
m


36


<!-- Page 37 / 75 -->

给定100 x 100阵列的光感受器以获取 
尺寸4 x 4 mm的图像，大小为80 x 80毫米。  
放大倍率，像素大小和像素大小 
目的？ 
数组上的像素大小是传感器元素之间的距离，IS 
通过将数组的尺寸除以在 
相同的方向。
毫米
8.0
1
20
0.04
图像
目的
尺寸
 
像素
目的 
在
 
尺寸
 
像素
毫米
04
.0
100
4
尺寸
 
像素
20
1
80
4
目的
图像
离子
宏伟










37


<!-- Page 38 / 75 -->

视场
38
传感器的视野或视野（FOV）或 
相机是传感器可以感觉到场景的大小 
否则相机可以观察到。
示例：FOV = 10 cm x 10 cm; Angular Fov = 50o x 40o
资料来源：www.microscan.com


<!-- Page 39 / 75 -->

景深
•
相机将其镜头聚焦在一个点，但有一个 
在这个焦点前后延伸的区域 
那仍然看起来很敏锐。该区域被称为深度 
场。 
39
景深（DOF）是照片的距离范围 
显得敏锐，并处于焦点。它受孔径大小的影响。


<!-- Page 40 / 75 -->

景深
孔（F停止）
对象平面
图像平面
圈子 
困惑
c
C’
b
一个
一个'
B’
景深
离子
宏伟
：
）
停止
f（
尺寸
 
光圈
：//
尺寸
 
像素
：
）1
（ /
 
2
场地
 
的
 
深度
2
m
f
m
m
f





景深是部分 
出现的场景 
图像清晰。 
混乱的圈子是 
由 
来自 
镜头不是完美的 
成像时聚焦 
来源
40


<!-- Page 41 / 75 -->

41
图显示了各种大小的混乱圈（COC）。他们 
根据重点（不扩展）的大小。只有那些COC 
从景深内部投射出锋利。我们的眼睛不能 
当它们形成尖锐的点时，请很好地感知它们。我们看到的是 
从景深外面预测。当我们能够看到 
COC据说是Unshap。
资料来源：http：//www.photokonnexion.com/?page_id=4373
景深


<!-- Page 42 / 75 -->

景深
•
F-Stop是F-number在A中调整的离散步骤 
相机。
•
f-number是焦距除以有效 
孔径直径。
•
标准F-Stop量表：f/1，f/1.4，f/2，f/2.8，f/4，f/f/5.6，f/8， 
f/11，f/16，f/22，f/32，… 
f/4：f-number = 4
200毫米F/4镜头：孔径直径= 200/4 = 50 mm，并且 
200 mm/50 mm = 4。
42


<!-- Page 43 / 75 -->

给定f = 40 mm，f-stop = 8，直径是多少 
孔径开口和F数？ 
•
孔径开口的直径（或有效的孔径直径） 
= f/f-stop = 40/8 = 5 mm
•
f-number = f/（有效的孔径直径）= 40 mm/5 mm = 8 
43
光圈是光线进入的相机镜头中的开口。大小 
可以调整光圈以控制到达相机的光量 
传感器。较大的光圈（例如较小的f数字，例如f/1.8）导致浅深度 
场，场景的一小部分被焦点，背景出现 
模糊。较小的光圈（较大的f数字，例如f/16）会产生更深的景深， 
从前景到背景，更多的场景显得敏锐。
景深


<!-- Page 44 / 75 -->

44
f/8.0
f/5.6
f/2.8
“较小的F-Stop数字（较大的光圈）产生较浅的景深。”
资料来源：http：//www.cambridgeincolour.com/tutorials/depth-of-field.htm
在200毫米镜头上拍摄的图像
景深是 
“浅”  -  a 
狭窄的区域 
看起来很锋利。 
景深是 
“深”  - 更多 
图片 
看起来很锋利。


<!-- Page 45 / 75 -->

景深：摩克罗德
•
7.6 x 7.6毫米尺寸200 x 
200阵列传感器
•
F-Stop = 16，放大倍率 
= 1/20
•像素大小= 7.6/200 = 
0.038毫米
•景深= 
（2*0.038*16*（1+1/20））*
202 = 511毫米） 
•
在典型的工业中 
应用程序（m << 1）， 
景深问题是 
不够重要。
45


<!-- Page 46 / 75 -->

景深：光学显微镜
•
3.8 x 3.8毫米传感器阵列 
•
像素尺寸= 3.8/100 = 
0.038毫米
•
如果M = 100且F-Stop = 16 
•深度= 
（2*0.038*16*（1+100））/1
0000 = 12微米
•
在显微镜中，深度为 
有限的3D视觉几乎没有 
可能的。
46


<!-- Page 47 / 75 -->

47
有许多不同类型的镜头。
松下超级远摄Zoom  - 镜头组装
有必要有一种相对简单的方法来设计复杂的镜头系统。
 - 根据几何光学元件，射线传输矩阵 /射线矩阵 /光学系统矩阵。


<!-- Page 48 / 75 -->

Understanding Focal Length – Nikon USA
48
https://www.nikonusa.com/en/learn-and-explore/a/tips-and-techniques/understanding-focal-
length.html#:~:text=The%20focal%20length%20of%20a,and%20the%20higher%20the%20magnification. 
“Lens focal length tells us the angle of view—how much of the scene will be 
被捕获的（以及放大倍数）将是多大的单个元素。 
The longer the focal length, the narrower the angle of view and the higher the 
放大。 The shorter the focal length, the wider the angle of view and 
放大倍数越低。”
Zoom (variable focal length) vs. Prime Lens (fixed focal length)
FX format is full-frame sensor equivalent in size to a 35 mm frame; DX format 
is a smaller size sensor and hence the field of view is narrower.   
Wide-angle lens: FX – 14-35 mm; DX  -  10-24毫米
标准镜头：FX  -  50-60毫米； DX  -  35毫米
Telephoto lens: FX – 70-200 mm; DX  -  55-200毫米
超远摄镜头：FX  -  300-600毫米； DX  -  200-600毫米
Macro lens: FX – 60, 105 and 200 mm; DX – 85 mm


<!-- Page 49 / 75 -->

49
4。摄像机校准 
•摄像机校准是估计的过程 
相机的内在和外在参数。 
•这对于3D计算机视觉任务至关重要 
3D重建，增强现实和机器人愿景。


<!-- Page 50 / 75 -->

50
从对象空间到图像的转换 
空间 
•
世界坐标中的对象，图像 
在图像坐标中
•
示例：图像指导机器人 
针插入
•
任务：执行多针 
根据 
透视投影图像 
器官
•
世界协调的目标是 
被相机捕获并存储为 
图像坐标中的图像。
•假设：所有目标都在 
同一平面。
•
机器人必须将针插入 
恰好在世界上的目标 
协调。
相机
医疗机器人
病人
针
电脑
框架抓手


<!-- Page 51 / 75 -->

51
校准：2D之间的转换 
对象和2D图像坐标
参数
tion 
transforma
：
1
：
''
''
：
p
''
''
'
'
cos
罪
罪
cos
:)
r（
'
'
:)
t（
投影
 e
透视
：
p 
旋转，
：
r
 
n，，
翻译
：
t
prt
：
目的
   
，，，，
：
图像
23
22
21
13
12
11
IJ
y
x
一个
y
x
一个
一个
一个
一个
一个
一个
y
x
t
y
x
y
x
y
x
y
x
y
x
v
v
y
x
w
y
x
y
x
y
x
y
x























































































校准是 
识别转换 
参数 
w
r
相机
工作平面
棋盘 
对于相机 
校准


<!-- Page 52 / 75 -->

52
校准
2
23
22
21
13
12
11
2
2
2
2
1
1
1
1
2
2
1
1
23
22
21
13
12
11
23
22
21
13
12
11
错误
 
最小
 
这
o
解决方案t
 
这
是
.4
1
0
0
0
0
0
0
1
1
0
0
0
0
0
0
1
1
0
0
0
0
0
0
1
3。
位置。
 
确定
 
 
定位
是
机器人
 
医疗的
  
这
2。
1
0
0
0
0
0
0
1
1
.1
xa
x
x
x
x）
（x
一个
t
1
t
















































































































一个
一个
一个
一个
一个
一个
y
x
y
x
y
x
y
x
y
x
y
x
y
x
y
x
y
x
n
一个
一个
一个
一个
一个
一个
y
x
y
x
y
x
一个
一个
一个
一个
一个
一个
y
x
n
n
n
n
n
n


最小二乘解决方案 
或最少的正方形 
近似
一个
x（对象）
x（图像）
确定对应的n图点 
到对象空间上的n个位置。 
识别与对象空间上N位置相对应的n个图像点。


<!-- Page 53 / 75 -->

53
最小二乘近似
•
假设系统ax = b具有n 
方程，n> 1，仅在一个未知中。 
（等式1.1）
•
解决这个问题的一种可能性 
不一致的方程是确定x 
从系统的一部分，忽略 
其余的部分。
•
一种更合理的方法是 
确定最小化的x 
n方程中的平均误差。
•
平方之和是一种流行的方法 
定义平均错误（方程1.2）
•
如果有精确的解决方案，则最小 
E = 0。
•
如果B与A成正比，则功能 
E2是抛物线，最小的抛物线 
公式1.3定义的点。
•
求解x，方程1.4是最小的 
系统的正方形解决方案


）
4.1（
4
3
2
4
3
2
）
3.1（
0
4
）
4
（（
3
）
3
（（
2
）
2
（（
2
）
2.1（
）
4
（（
）
3
（（
）
2
（（
）1.1（
4
3
2
4
3
2
2
2
2
3
2
1
3
2
1
2
2
3
2
2
2
1
2
3
2
1




































b
b
b
x
b
x
b
x
b
x
DX
de
b
x
b
x
b
x
e
b
x
b
x
b
x
一个


<!-- Page 54 / 75 -->

54
最小二乘近似
•
通用公式：给定一个
不等于0和任何B， 
错误e是 
向量AX-B（方程1.5）
•
抛物线（等式1.6） 
最小 
由等式1.7定义。
•
最小二乘解决方案 
AX = B可以使用 
等式1.8。
）
8.1（
）
7.1（
0
2
2
）
6.1（（
2
）
（（
）
（（
）
5.1（
这是给出的
）
（（
）
（（（（
2
2
2
2
1
2
2
1
1
一个
一个
b
一个
b
一个
一个
一个
b
一个
一个
一个
b
b
b
一个
一个
一个
b
一个
b
一个
b
一个
t
t
t
t
t
t
t
t
t
t
n
n
x
x
x
DX
de
x
x
x
x
e
b
x
一个
b
x
一个
x
e






















<!-- Page 55 / 75 -->

55
最小二乘近似
•
最小二乘解决方案是 
由等式1.9给出。
•
如果矩阵ata是可逆的， 
等式1.10是唯一的 
最小二乘解决方案。
）
10
.1（
）
9.1（
b
一个
一个）
（一个
x
b
一个
斧头
一个
t
1
t
t
t





<!-- Page 56 / 75 -->

56
最小二乘近似
•
假设我们进行一系列实验，并期望 
输出y将通过t的线性函数近似t， 
Y = C+DT。
•
例如，测量线性弹性材料的应变Y 
承担负载t。如果没有错误，只有两个 
（y，t）的测量就足够了。但是会有 
实验错误，一系列超过两组 
（y，t）从实验中测量的不太可能下降 
直线。我们需要“平均”所有 
实验确定最佳线路。


<!-- Page 57 / 75 -->

57
最小二乘近似


































































































我
我
我
我
我
我
n
n
n
n
n
n
y
t
y
t
t
t
n
d
c
d
c
d
c
e
t
d
c
y
e
DT
c
y
DT
c
y
斧头
b
e
d
c
d
c
t
t
t
y
y
y
DT
c
y
DT
c
y
DT
c
y
1
2
1
2
2
2
2
1
2
2
2
1
2
1
2
2
1
1
）
（（
。
 
的
解决方案
 
正方形
至少
 
这
是
 
最小化
 哪个
 
线
直的
 
这
）。
0
（（
 
到
可能的
 
作为
 
关闭
 
作为
 
是
 
那 
所以
 
 
选择
 
我们
）
（（
）
（（
最小化
 
到
 
和
 
 
选择
 
想要
 我们
错误
 
这
的
 
正方形
 
这
的
 
和
 
这
最小化
 那 
一
 
这
是
 
感觉
 
正方形
至少
 
在
解决方案 
最好的
 
这
1
1
1
。
结果，
 
al
实验
 
这
从
b
一个
一个
一个
b
一个
一个
一个
b
一个
斧头
一个
b
斧头
b
斧头
p
x
斧头
b
t
t
t
t
t
t







<!-- Page 58 / 75 -->

58
•
实际上，图像示例中的假设 
指导医疗机器人所有目标点都在一个 
水平工作平面可能无法固定。
相机
工作平面
体腔
来自单个的典型2D图像 
相机没有足够的 
恢复3D的信息 
对象的信息。


<!-- Page 59 / 75 -->

59
均匀的坐标
•
同质矢量 
对应于直线 
贯穿原点。
0
     
，，，，
























k
k
Kz
肯
Kx
z
y
x
h
o
比例因子
笛卡尔 
协调
同质 
协调


<!-- Page 60 / 75 -->

60
均匀坐标的优势
•
翻译和透视转换可以是 
以矩阵形式表示：
•
统一矩阵表示：v’= t v
•
V：包含坐标的列向量
•
T：4x4均匀转换矩阵（HTM）
•
连续的几何变换可以表达 
作为一系列具有矩阵乘法的矩阵


<!-- Page 61 / 75 -->

61
图像和对象点均匀 
坐标










































k
Kz
肯
Kx
z
y
x
k
肯
Kx
y
x
o
o
o
o
o
o
o
o
我
我
我
我
我
我
x
x
你
你

：
观点
目的 
ˆ
：
观点
 
图像
^
从n x 1向量转换 
在同质坐标中 
坐标尺寸n-
1，我们必须按 
nth元素，然后删除 
第n个组件。


<!-- Page 62 / 75 -->

62
均匀坐标的翻译
































z
y
x
t
t
t
z
y
x
z
y
x
新的





































1
1
0
0
0
1
0
0
0
1
0
0
0
1
1
新的
z
y
x
t
t
t
z
y
x
z
y
x
在同质坐标中：
假坐标
翻译为可逆矩阵：

















1
0
0
0
1
0
0
0
1
0
0
0
1
1
z
y
x
t
t
t
t
使用统一的矩阵表示


<!-- Page 63 / 75 -->

63
均匀坐标缩放













1
0
0
0
0
0
0
0
0
0
0
0
0
z
y
x
s
s
s
s
按照SX，SY和 
沿X，Y和Z轴的SZ。


<!-- Page 64 / 75 -->

64
均匀坐标的旋转










































1
0
0
0
0
cos
0
罪
0
0
1
0
0
罪
0
cos
1
0
0
0
0
cos
罪
0
0
罪
cos
0
0
0
0
1
1
0
0
0
0
1
0
0
0
0
cos
罪
0
0
罪
cos
，，，，
，，，，
，，，，















y
x
z
r
r
r
每个点的旋转 
坐标轴。角度是 
顺时针测量。 
坐标的非标准方向 
系统：
在2D计算机图形中常见于 
左上角的起源和 
y轴沿屏幕。
角度是顺时针阳性的。
计算机视觉和计算机图形学 
密切相关。
x
  1 0 0
R（）
   0cosθ-sinθ
  0sinθcosθ 









s

y
 cosθ0sinθ
R（） 
    0 1 0
  -sinθ0cosθ









s

z
 cosθ-sinθ0
R（） 
  sinθcosθ0
  0 0 1









s

ZAO
ya1
，ZA1


Yao
XA1
XA0
标准右笛卡尔 
数学坐标系统：
X轴向右，Y轴向上 
屏幕。


<!-- Page 65 / 75 -->

65
复合变换
•
与均匀坐标，一个 
转换序列： 
翻译t，缩放s，然后 
围绕Z轴的旋转可以是 
在矩阵方程中表示。
•
P’是转变点 
对应于点。
•
申请顺序很重要。
•
许多转换具有反向 
可用于执行的矩阵 
相反的转换。  
英石
r
一个
θ
Z，

AP
p
'


<!-- Page 66 / 75 -->

66
透视投影
•
从3D点投影到一个 
飞机
z
f
y
f
z
y
f
y
z
f
x
f
z
x
f
x
f
z











：
伊恩格
类似的tr
反视角 
从一个 
平面指向3D 
空间对应于 
线，即
同质矢量。 
透视转换（图像转换）将3D点投射到平面上。


<!-- Page 67 / 75 -->

67
矩阵形式的透视投影













































































z
f
fz
z
f
FY
z
f
fx
z
y
x
k
f
Kz
Kz
肯
Kx
k
Kz
肯
Kx
f
c
PW
c
w
，，，，
c
p
h
h
h
h
观点
 
图像
 
这
的
 s
协调
 
笛卡尔
1
1
0
0
0
1
0
0
0
0
1
0
0
0
0
1
vely
  尊重
工作区
和
  
图像
为了 
 s
协调
 s
同元
：
 矩阵
投影
 e
透视
 ：
 可以从 
 通过分开的前三个要素 
 由第四个元素。  
1
（4）

h
h
h
h
c
c
c
c
c c


<!-- Page 68 / 75 -->

68
矩阵形式的透视投影


















1
1
0
0
0
1
0
0
0
0
1
0
0
0
0
1
d
 - 
3 
进入
 
指向回去
 
图像
 
地图
ation
 转换
e
透视
 
逆
1
1
f
p
c
p
w
h
h
反视角 
转换问题： 
鉴于 
在图像平面中，我们 
无法确定 
相应的坐标 
在3D场景中。 
将3D场景映射到一个 
2D图像平面是多个
一个转换。


<!-- Page 69 / 75 -->

69
均匀的坐标
•
代表 
旋转，翻译， 
缩放和 
看法 
转换 
类似的方式，使用 
矩阵
•
组成 
可以运营 
使用矩阵实现 
乘法。












1
0
0
0
3
33
32
31
2
23
22
21
1
13
12
11
t
r
r
r
t
r
r
r
t
r
r
r
透视投影：-1/f
3x3旋转矩阵
3x1 
翻译 
向量
1x3透视 
投影矢量
1x1缩放 
（拉伸） 
矩阵


<!-- Page 70 / 75 -->

世界 
协调 
系统
相机坐标系
抵消 
图像中心 
带有 
尊重 
世界中心 
抵消 
世界中心 
中心 
世界的原始 
协调 
系统 
70
相机模型
实际上，相机和 
世界相机系统是 
不偶然。
安装在上面的相机 
万向帽可以通过 
x和x之间的角度 
轴和倾斜 
z和z之间的角度 
轴。
W：3D中的一点
C：图像点


<!-- Page 71 / 75 -->

71
开发相机模型
1。
从世界来源的翻译到 
世界中心
2。
围绕z轴的旋转角度θ
 - 在X和X轴之间测量泛角。
3。
通过角度α旋转X轴的旋转
 - 在Z和Z轴之间测量倾斜角。
4。
从世界中心到相机起源的翻译 
坐标框架。
5。
从图像点到世界点的角度转变。
相机 
坐标
世界 
坐标
h
z
x
h
w
t
r
r
pt
c
）
（（
）
（（
）
（（
）
（（
0
w
r



转型
相机的初始方向的X-Y-Z轴平行于X-Y-Z轴 
（相机最初是指向上的）。


<!-- Page 72 / 75 -->

72
线性模型的摄像机校准
•
在同质坐标中， 
场景点的投影
或世界上的对象点 
将x坐在图像点 
u由简单的线性给出 
映射。 （等式4.1）。 m是 
相机投影矩阵。
•
如果比例因子= 1 
同质坐标，我们 
具有等式4.2。 
）
2.4
（（
1
1
）1.4
（（
1
44
43
42
41
34
33
32
31
24
23
22
21
14
13
12
11
44
43
42
41
34
33
32
31
24
23
22
21
14
13
12
11












































































z
y
x
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
z
y
x
z
y
x
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
一个
k
Kz
肯
Kx
MX
你


<!-- Page 73 / 75 -->

73
线性模型的摄像机校准
•
忽略Z的术语 
由于z = 0 
图像平面（方程式 
4.3）。 
•
有11个免费 
M中的参数


<!-- Page 74 / 75 -->

74
线性模型的摄像机校准
1。
测量工作空间中的n点，并记录 
图像中的相应点
2。
使用最小平方确定11个参数α 
解决方案方法
3。
使用查找桌或一张 
神经网络


<!-- Page 75 / 75 -->

